function diffStatus(a){return"-"===a[0]?a:"+"+a}function displayData(a,b,c){document.getElementById(b).innerHTML=a,"loading"===c&&bg.requestStatus()}function setStatus(){var a=lc.getItem("data"),b=""!==a?JSON.parse(a):"init",c=JSON.parse(lc.getItem("dispLevel")),d="",e=0;for(var f in c)"init"!==b&&(c.hasOwnProperty(f)&&(void 0===b[f]&&1===c[f][0]?(e>0&&(d+="</li></ul>"),d+='<h2 id="'+f+'">'+decodeURI(c[f][1])+"</h2>"+"<ul>",e++):d+='<li><span id="list_'+f+'">'+decodeURI(b[f].jpName)+"</span>"+"<strong>"+b[f].currentValue+"</strong>"+"<em>("+diffStatus(b[f].diffValue)+")</em>"+"<span>"+decodeURI(c[f][1])+"</span>"+"</li>"),document.getElementById("update").innerHTML=lc.getItem("update"));displayData(d+"</ul>","bengo4","data")}var lc=localStorage,bg=chrome.extension.getBackgroundPage(),_loading='<div style="width: 260px; padding: 58px 0 59px;text-align:center;"><img src="/img/gif.gif" /></div>',_options='<div class="notice">右上の[ option ]ボタンから設定をしてください</div>';$(function(a){a(window).on("storage",setStatus),a("#reload").on("click",function(){displayData(_loading,"bengo4","loading")}),a("#option").on("click",function(){window.open("/options.html")}),""===lc.url?displayData(_options,"bengo4","option notice"):setStatus()});